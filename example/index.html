<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Swathe</title>

	<!-- <script src="../proxy.min.js"></script> -->
	<!-- <script src="../swathe.js"></script> -->
	<script src="../swathe-next.js"></script>
</head>
<body>

	<div data-bind="style.background: color">Color Me!</div>
	<input data-bind="value: color" value="Color"/>
	<div data-bind="innerText: color">None</div>

	<a href="#" data-bind="href: i.am.nested">Link</a>
	<input class="input" data-bind="value: i.am.nested" value="Initial"/>

	<div class="container">
		<div class="data" data-bind="innerText: i.am.nested">None</div>
	</div>

	<script>

		for (var i = 0; i < 25000; i++) {
			var input = document.querySelector('.input');
			var data = document.querySelector('.data');
			var inputClone = input.cloneNode(true);
			var dataClone = data.cloneNode(true);
			document.querySelector('.container').appendChild(dataClone);
		}

		var scope = 'body';
		var model = {
			color: 'blue',
			i: {
				am: {
					nested: 'NO'
				}
			}
		};

		var controller = Swathe('body', model);

		setTimeout(function () {
			controller.model.i.am.nested = 'YES';
		}, 1500);
	</script>
</body>
</html>
