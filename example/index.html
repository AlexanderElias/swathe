<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Swathe</title>

	<!-- <script src="../proxy.min.js"></script> -->
	<!-- <script src="../swathe.js"></script> -->
	<script src="../swathe-next.js"></script>
</head>
<body>

	<div data-s="style.background: color">Color Me!</div>
	<input data-s="value: color" value="Color"/>

	<div data-s="innerText: color">Empty</div>
	<a href="#" data-s="href: color">Link</a>

	<!-- <div class="container">
		<input class="input" data-s="value: i.am.nested" value="None"/>
		<div class="data" data-s="innerText: i.am.nested">None</div>
	</div> -->


	<input type="text" data-s="value: iterable.0">
	<div data-s="for: variable of iterable">
		<div>
			<div data-s="innerText: variable"></div>
			<div data-s="innerText: i.am.nested"></div>
		</div>
	</div>

	<button class="button" type="button" data-s="onClick: say('hello')">Say Hello</button>

	<!-- <script src="../dev.js"></script> -->

<script>

	// window.addEventListener('DOMContentLoaded', function () {
	// 	var scope = 'body';
	// 	var callback = function (mutaions) {
	// 		console.log(mutaions);
	// 	};
	//
	// 	var observedDom = ObserveDom(scope, callback);
	//
	// 	document.body.appendChild(document.createElement('div'));
	//
	// });

	// for (var i = 0; i < 10000; i++) {
	// 	// var data = document.querySelector('.data');
	// 	// var dataClone = data.cloneNode(true);
	// 	// document.querySelector('.container').appendChild(dataClone);
	// 	var input = document.querySelector('.input');
	// 	var inputClone = input.cloneNode(true);
	// 	document.querySelector('.container').appendChild(inputClone);
	// }

	var scope = 'body';
	var model = {
		color: 'blue',
		i: {
			am: {
				nested: 'NO'
			}
		},
		iterable: ['zero', 'one', 'two', 'three'],
		say: function (args, e) {
			console.log(args);
			console.log(e);
		}
	};

	var controller = Swathe.controller('body', model);

	setTimeout(function () {
		// var i = controller.model.iterable;
		// i.push('four');
		//
		// controller.model.iterable = i;
		console.log(controller.model);
	}, 1500);
</script>
</body>
</html>
