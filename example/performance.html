<!DOCTYPE html>
<html>
<head>
	<title>Swathe | Performance</title>
	<script src="../dist/swathe.js"></script>
</head>
<body>

	<style>
		.group { display: inline-block; background: lightgray; margin: 4px; padding: 4px; }
	</style>

	<div class="container" s-controller="app">
	</div>

	<script>

		var model = {};

		var count = 0;
		var current = 0;

		var container = document.querySelector('.container');
		var group = document.createElement('div');
		var input = document.createElement('input');
		var div = document.createElement('div');

		group.setAttribute('class', 'group');

		for (var i = 0; i < 10000; i++) {
			var groupClone = group.cloneNode();
			var inputClone = input.cloneNode();
			var divClone = div.cloneNode();

			if (count === 1000) {
				count = 0;
				current = i;
			} else {
				count++;
			}

			model[current] = current;

			inputClone.setAttribute('s-value', current);
			divClone.setAttribute('s-inner-text', current);

			groupClone.appendChild(inputClone);
			groupClone.appendChild(divClone);
			container.appendChild(groupClone);
		}

		console.time('controller');
		var controller = Swathe.controller('app', model);
		console.timeEnd('controller');

	</script>
</body>
</html>
