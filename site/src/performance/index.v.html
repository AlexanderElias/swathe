<!-- { "title": "Performance" } -->

<div class="container" s-controller="app"></div>

<script>

	console.log('started creating elements');
	var model = {};

	var count = 0;
	var current = 0;

	var container = document.querySelector('.container');
	var group = document.createElement('div');
	var input = document.createElement('input');
	var div = document.createElement('div');

	group.setAttribute('class', 'group');

	for (var i = 0; i < 9000; i++) {
		var groupClone = group.cloneNode();
		var inputClone = input.cloneNode();
		var divClone = div.cloneNode();

		if (count === 300) {
			count = 0;
			current = i;
		} else {
			count++;
		}

		model[current] = current;

		inputClone.setAttribute('s-value', current);
		divClone.setAttribute('s-inner-text', current);

		groupClone.appendChild(inputClone);
		groupClone.appendChild(divClone);
		container.appendChild(groupClone);
	}

	var options = {
		name: 'app',
		model: model
	};
	console.log('ended creating elements');

	console.time('controller');
	Swathe.controller(options, function (controller) {
		console.log(controller.model);
	});
	console.timeEnd('controller');

</script>
