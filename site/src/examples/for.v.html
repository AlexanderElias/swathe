<!-- { "title": "For" } -->

<h2>For</h2>

<section>
	<h4>Raw</h4>
	<code class="raw prettyprint">
		<input type="text" s-value="searchString">
		<button s-on-click="onSearch(searchString, searchResults, searchArray)">Search</button>
		<ul s-for-result="searchResults">
			<li>
				<span s-text="result"></span>
			</li>
		</ul>
	</code>

	<h4>Cooked</h4>
	<div class="cooked" s-controller="main">

		<input type="text" s-value="searchString">
		<button s-on-click="onSearch()">Search</button>

		<ul s-for-result="searchArray">
			<li>
				<span s-text="result"></span>
			</li>
		</ul>

	</div>
</section>

<script>
	var options = {
		name: 'main',
		model: {
			searchString: '',
			// searchResults: [],
			searchArray: ['0', '1', '3', '2', '3'],
			onSearch: function () {
				var Model = this;
				Model.searchArray = Model.searchArray.filter(function (item) {
					return Model.searchString === item;
				});
			},

			// iterable: ['0', '1', '2', '3'],
			// pushOne: function (iterable) {
			// 	iterable.push(iterable.length.toString());
			// },
			// popOne: function (iterable) {
			// 	iterable.pop();
			// }
		}
	};

	Swathe.controller(options, function (controller) {
		setTimeout(function () {
			console.log(controller.model);
		}, 3000);
	});
</script>
